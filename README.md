üåπ LancoBot
----------------

General-purpose Discord bot with some tailored features for Lancaster County, PA.

üéâ Features
----------------

The bot features a variety of cogs that can be enabled or disabled depending on your server's needs. The following cogs are available:

|  |  |  |
|---|---|---|
| [TipCalc](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/tipcalc)<br>Tip calculator commands | [Magic8Ball](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/magic8ball)<br>Magic 8 Ball | [Twitter/X Embed Fix](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/twitterembed)<br>Fix Twitter/X embeds |
| [TruthSocial](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/TruthSocial)<br>TruthSocial embed support | [RedditEmbed](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/redditembed)<br>RedditEmbed cog | [BarHopper](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/barhopper)<br>Bar hopper commands |
| [OneWordStory](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/onewordstory)<br>One Word Story game | [RoleStats](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/rolestats)<br>RoleStats cog | [PeeCheck](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/peecheck)<br>PeeCheck cog |
| [AIDetection](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/AIDetection)<br>Analyze images and videos for AI-generated content. | [VoteMute](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/votemute)<br>VoteMute cog | [Fishbowl](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/fishbowl)<br>Fishbowl cog |
| [Conversions](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/conversions)<br>Conversions cog | [AutoResponse](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/autoresponse)<br>AutoResponse cog | [ChatBot](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/chatbot)<br>User-specific chatbot with agent memory |
| [RedditFeed](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/redditfeed)<br>Reddit feed polling | [NewsHeadlines](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/newsheadlines)<br>NewsHeadlines cog | [Everbridge](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/everbridge)<br>Everbridge cog |
| [RandomNsfwReddit](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/randomnsfwreddit)<br>RandomNsfwReddit cog | [Google](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/google)<br>Google commands | [SleepCheck](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/sleepcheck)<br>SleepCheck commands |
| [ReactTrack](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/reacttrack)<br>Track reactions | [WolframAlpha](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/wolframalpha)<br>Queries Wolfram Alpha for information | [GameStats](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/gamestats)<br>Game stats for the server |
| [Admin](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/admin)<br>Administrative commands | [Summarize](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/summarize)<br>Summarize Cog | [Fun](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/fun)<br>Fun commands |
| [AnimeToday](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/animetoday)<br>Daily anime shot announcements | [Pinboard](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/pinboard)<br>Pinboard cog | [Birthday](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/birthday)<br>Wish a user a happy birthday |
| [Youtube](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/youtube)<br>Youtube cog | [GeoGuesser](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/geoguesser)<br>Lancaster-themed GeoGuesser game | [InstaEmbed](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/instaembed)<br>Instagram embed fix |
| [Describe](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/describe)<br>Provides context menu for providing descriptions of images | [Database Backupper](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/databasebackupper)<br>Routinely backs up the database to a specified directory with a timestamped filename. | [NutCheck](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/nutcheck)<br>NutCheck cog |
| [SpyDotKick](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/spydotpet)<br>Check for loser bots | [HotDog](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/hotdog)<br>Profile Glizzies | [MarkSafe](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/marksafe)<br>Mark yourself as safe |
| [EmoteTools](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/emotetools)<br>Emote and sticker tools | [Verification](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/verification)<br>Verification cog | [webserver](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/webserver)<br>webserver cog |
| [EmbedFixCog](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/common)<br>Abstract embed fix cog | [WebPreview](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/webpreview)<br>WebPreview cog | [TraceMoe](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/tracemoe)<br>Get the anime from a screenshot |
| [FixIt](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/fixit)<br>FixIt issue tracking | [UserProfiles](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/profile)<br>Custom user profiles | [PDFPreview](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/pdfpreview)<br>Generates a preview of a PDF file |
| [FortuneCookie](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/fortunecookie)<br>FortuneCookie cog | [Spotify Embed Fix](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/spotifyembed)<br>Fix Spotify embeds | [AutoReact](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/autoreact)<br>AutoReact cog |
| [TextGen](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/textgen)<br>Text generator commands | [Bot](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/bot)<br>Bot configuration commands | [FileFixer](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/filefixer)<br>Attempt to fix files |
| [Weather](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/weather)<br>Fetches the weather | [Commands](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/commands)<br>Custom guild commands | [Paywall Bypass](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/paywallbypass)<br>Bypass paywalls |
| [Genshin](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/genshin)<br>Genshin cog | [Anime](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/anime)<br>Anime commands | [CoinFlip](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/CoinFlip)<br>Flip a coin |
| [Facts](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/facts)<br>Facts cog | [dadjoke](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/dadjoke)<br>dadjoke cog | [Transcribe](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/transcribe)<br>Transcription commands for audio files and voice messages |
| [ADHDChannel](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/adhdchannel)<br>Updates the channel name and topic based on the current discussion | [Incidents](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/incidents)<br>LCWC Incident feed | [TikTok Embed Fix](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/tiktokembed)<br>Fix TikTok embeds |
| [OpenAIPrompts](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/aiprompts)<br>OpenAI prompts for various situations | [Astrology](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/astrology)<br>Astrology commands | [Whisper](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/whisper)<br>Whisper commands |
| [RSSFeed](https://github.com/NateShoffner/lanco-discord-bot/tree/master/app/cogs/rssfeed)<br>RssFeed polling |  |  |



üöÄ Installation
----------------

First you will need to clone the repository:

```bash
git clone https://github.com/NateShoffner/lanco-discord-bot
```

Next, go to the [Discord Developer Portal](https://discord.com/developers/applications) and create a new application. Create a bot for the application and copy the token. You will need to add the bot to your server using the OAuth2 URL generated in the portal.

Copy the `.env.default` file and create a `.env` file with your bot token and other settings including the SQLite database path.

The other API keys are optional depending on what cogs you want to enable.

You'll need to install the dependencies using [Poetry](https://python-poetry.org/):

```bash
cd lanco-discord-bot
poetry install
```

After installing the dependencies, you can run the bot using the following command:

```bash
poetry run python app/main.py
```

### üê≥ Docker

Alternatively, you can use [Docker](https://www.docker.com/) to run the bot via `docker-compose`.

Cogs are generally disabled by default. Please refer to the [cogs](app/cogs) directory for more information on how to use them.

üõ†Ô∏è Contribute
-------------------

Feel free to fork and submit pull requests for any features or fixes you think should be included.

üëâ Support
-------------------

If you need help with the bot join the [Lancaster County Discord](https://discord.gg/yfFp4VaZFt) or [open an issue](https://github.com/NateShoffner/lanco-discord-bot/issues/new).

üìù License
-------------------

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.


üìÇ Project Structure
-------------------

    .
    ‚îú‚îÄ‚îÄ app                     # Main application directory
    ‚îÇ   ‚îú‚îÄ‚îÄ cogs                # Discord cogs
    ‚îÇ   ‚îî‚îÄ‚îÄ utils               # Utility functions
    ‚îú‚îÄ‚îÄ data                    # Bot data (e.g. SQLite database, cog-specific data, etc)
    ‚îú‚îÄ‚îÄ logs                    # Log files
    ‚îú‚îÄ‚îÄ migrations              # Database migrations
    ‚îî‚îÄ‚îÄ tools                   # Tools for development and deployment
        ‚îî‚îÄ‚îÄ templates           # Templates for cogs and other files      
    

‚öôÔ∏è Cog Development
-------------------

All features are implemented as cogs in the [cogs](app/cogs) directory.

### Automatic Setup

To create a new cog, you can use the `cog` command line so:

```bash
poetry run python cog CogName
```

### Manual Setup

To create a new cog, create a new folder in the [cogs](app/cogs) directory with the name of your cog and an entrypoint script within it with the same name as the folder.

```bash
mkdir app/cogs/yourcog
touch app/cogs/yourcog/yourcog.py
```

All cogs should inherit from the [LancoCog](app/cogs/lancocog.py) class.

```python
import discord
from discord.ext import commands
from cogs.lancocog import LancoCog

class YourCog(LancoCog, name="YourCog", description="Your cog description."):

    def __init__(self, bot: commands.Bot):
        super().__init__(bot)

async def setup(bot):
    await bot.add_cog(YourCog(bot))
```